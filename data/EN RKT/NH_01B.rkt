(mes
 (meta (engine 'ADV) (charset "pc98") (extraop #t))
 (seg*
  (branch-reg 95 (</> (/ (set-reg 997 #f)) (/ (set-reg 997 #t))))
  (set-reg 998 #f)
  ((cmd 196) 0 0)
  ((cmd 196) 0 1)
  ((cmd 196) 0 2)
  ((cmd 196) 0 3)
  (image-file "B:GPC¥C_107.GPC")
  (image-mem 0)
  (exec-mem 256 "G 5 28 48 24 192")
  (image-file "B:GPC¥C_106.GPC")
  (image-mem 0)
  (exec-mem 256 "G 6 28 48 24 192")
  (image-file "B:GPC¥C_104.GPC")
  (image-mem 0)
  (load-mem "B:CLM¥C_104A.CLM" 27984)
  (exec-mem 14048 1 1 19 9 29 16)
  (exec-mem 14048 1 2 20 10 25 13)
  (exec-mem 14048 1 3 40 6 47 9)
  (exec-mem 14048 1 4 35 4 39 8)
  (exec-mem 14048 1 5 49 10 63 15)
  (exec-mem 14048 1 6 49 3 59 7)
  (exec-mem 14048 1 7 40 10 47 15)
  (exec-mem 14048 1 8 49 10 63 15)
  (exec-mem 14048 1 9 19 9 29 16)
  (if (</>
       (//
        (? (!= M 5))
        (nop@)
        (if (</>
             (// (? (!= M 0)) (nop@) (sound '|| 2) (delay 120) (sound '|| 0))))
        (set-var M 5)
        (branch-reg
         994
         (</>
          (/ (sound '|| "USO¥NC_15D.USO"))
          (/ (sound '|| "USO¥NC_15V.USO"))))
        (sound '|| 1))))
  (proc 7)
  (proc 1)
  (if (</>
       (//
        (? (= 95 #t))
        (nop@)
        (str "It's a room that looks like an office." 'br)
        (str "The safe is just like it was when I found that armlet.")
        (proc 0)
        (str "The floor was messed up with countless footprints, and it's " 'br)
        (str "impossible to tell how many people came into the room." 'br)
        (proc 0)
        (str "You can totally tell how nervous and panicked we were." 'br)
        (str "It can't be helped since I'm not used to doing things like a " 'br)
        (str "thief..." 'br)
        (proc 0))
       (//
        (str "精錬所の隣の部屋はかつて事務所のように使われていたらしく、室内にあるのは古い無骨な金庫と、これも機能一点張りの事務机、書類などを")
        (str "収めておくキャビネットだけだ。" 'br)
        (proc 0)
        (str "On the wall, there's a painting that's way too out of place for ")
        (str "this room." 'br)
        (str "The whole room looks way too new for something that was " 'br)
        (str "supposedly built at least back in the 19th century." 'br)
        (proc 0)
        (str "It must be something that was added on after Philip Dunwich's " 'br)
        (str "death." 'br)
        (str "Even though the walls of the Refinery are just boards put " 'br)
        (str "together, the walls in this room are properly coated with " 'br)
        (str "plaster." 'br)
        (proc 0))))
  (proc 3)
  (loop
   (proc 19)
   (branch-var
    A
    (</>
     (/ (seg-call))
     (/
      (if (</>
           (//
            (? (= 95 #t))
            (nop@)
            (str "I didn't expect the gold armlet to still be here, even though it ")
            (str "was left unguarded for decades." 'br)
            (proc 0)
            (str "Even if someone snuck into this room before us, they probably " 'br)
            (str "weren't able to find the key to the Safe." 'br)
            (proc 0))
           (//
            (? (= 192 #t))
            (nop@)
            (str "It's locked." 'br)
            (str "Judging by the shiny new plating, it looks like the combination ")
            (str "hasn't been changed." 'br)
            (proc 0))
           (//
            (str "It's a really old and rugged Safe." 'br)
            (str "It wasn't a modern one with multiple sheets of metal layered " 'br)
            (str "together, but seemed to be made by pouring molten iron into a " 'br)
            (str "mold, so it must be pretty heavy too." 'br)
            (proc 0)
            (str "With this, not only is it hard to take it anywhere, but even " 'br)
            (str "breaking the door and grabbing what's inside would be tough." 'br)
            (proc 0)
            (str "It looks like a type of safe that won't open unless you match " 'br)
            (str "the number and stick in the key, but judging by the fresh look " 'br)
            (str "of the plating, it doesn't seem like the number part has ever " 'br)
            (str "been used." 'br)
            (proc 0)
            (str "If only I had the key, I could look inside...")
            (proc 0)
            (nop@)
            (set-reg 192 #t)))))
     (/
      (set-reg 190 #t)
      (set-reg 95 #f)
      (str "[Jonathan] これは‥‥‥‥")
      (proc 0)
      (exec-mem 256 "G 4 28 48 24 192")
      (exec-mem 256 "P 5 28 48")
      (str "[Jonathan] 腕輪だ。" 'br)
      (str "　　　　　　　　I　can't　believe　something　like　this　was　left　behind.....")
      (str "." 'br)
      (proc 0)
      (str "[Thomas] Hey, let me get a better look at that.")
      (proc 0)
      (str "The armlet gives off a dull sheen like gold." 'br)
      (str "On the surface, there's a pattern inspired by vines that looks " 'br)
      (str "like arabesque, and a figure of a creature that reminds you of a ")
      (str "mermaid is carved into it." 'br)
      (proc 0)
      (str "[Jonathan] Professor, this pattern...")
      (proc 0)
      (str "[Gardner] No doubt about it, it's clearly carved by someone from ")
      (str "the same culture and customs as the murals in the ruins." 'br)
      (proc 0)
      (str "[Jonathan] Is this gold？" 'br)
      (str "　　　　　　　　But　it　feels　a　bit　too　light　for　that.")
      (proc 0)
      (str "[Gardner] That explains the large-scale equipment at the " 'br)
      (str "refinery." 'br)
      (str "　　　　　　　　That armlet seems to be made of a metal very similar to ")
      (str "gold, but it's not real gold." 'br)
      (proc 0)
      (str "[Jonathan] Did Philip know how to turn that metal into real " 'br)
      (str "gold?" 'br)
      (proc 0)
      (str "[Jonathan] It's like he's some kind of medieval alchemist.")
      (proc 0)
      (str "[Gardner] I don't know where he got them from, but he must have ")
      (str "hauled in a ton of ornaments like this armlet, melted them down ")
      (str "in the furnace, and processed them into gold bars." 'br)
      (proc 0)
      (str "[Thomas] Who cares about that kind of story, anyway?" 'br)
      (str "　　　　　　So,　how　much　is　that　thing　worth？")
      (proc 0)
      (str "[Jonathan] If we keep going like this, it probably won't be " 'br)
      (str "worth a damn." 'br)
      (str "　　　　　　　　After all, this isn't real pure gold.")
      (proc 0)
      (str "[Gardner] どんな民族が作った物かも解らんようでは、学術的な　　　　　　　　価値も無いに等しい。")
      (proc 0)
      (str "[Thomas] What did you say？" 'br)
      (str "　　　　　　So it's just a piece of junk, huh.")
      (proc 0)
      (str "[Jonathan] Philip knew how to turn that junk into expensive " 'br)
      (str "gold." 'br)
      (proc 0)
      (str "[Gardner] That doesn't matter at all." 'br)
      (str "　　　　　　　　More importantly, the pattern engraved on the surface of ")
      (str "the Armlet is the problem." 'br)
      (proc 0)
      (str "[Gardner] With this, there's no doubt anymore that Philip is the ")
      (str "very guy who brought over those Ruins." 'br)
      (proc 0)
      (str "[Jonathan] The question is, why did they bring the ruins " 'br)
      (str "here?　　　　　　　　Could it have something to do with the gold armlet?")
      (proc 0)
      (str "[Gardner] One thing I can say is that the people who worshipped ")
      (str "those Ruins definitely made this Armlet." 'br)
      (proc 0)
      (str "[Gardner] It's the same with the gold massively exported from " 'br)
      (str "Arkham." 'br)
      (str "　　　　　　　　Philip found an unbelievable cash cow, huh.")
      (proc 0)
      (exec-mem 256 "P 4 28 48")
      (proc 3)
      (proc 9)
      (image-file "B:GPC¥C_104.GPC")
      (image-mem 0)
      (proc 8)
      (load-mem "B:CLM¥C_104A.CLM" 27984)
      (exec-mem 2928 12 16 67 287 7 1)
      (exec-mem 256 "G 0 0 296 80 104,G 1 0 296 80 104")
      (nop@)
      (set-reg 95 #t)
      (set-reg 657 #t)
      (set-reg 997 #t))
     (/
      (if (</>
           (//
            (? (= 193 #t))
            (nop@)
            (str "Looks like the refinery's ledger." 'br)
            (str "It hasn't been moved in decades.")
            (proc 0))
           (//
            (str "Looks like it's a ledger." 'br)
            (str "It's neatly organized, but there's no sign it's been touched in ")
            (str "decades." 'br)
            (proc 0)
            (str "Since it doesn't look all that old, it seems like keeping these ")
            (str "ledgers didn't start all that long ago." 'br)
            (proc 0)
            (str "I'm sure it's just some sloppy crap to dodge taxes anyway." 'br)
            (str "After all, nobody but the people themselves could ever check how ")
            (str "much gold actually got brought into the Refinery." 'br)
            (proc 0)
            (nop@)
            (set-reg 193 #t)))))
     (/
      (if (</>
           (//
            (? (= 194 #t))
            (nop@)
            (str "It's completely yellowed from the humidity and dust." 'br)
            (str "This must have been written by the person who used this office, ")
            (str "but it's ironic that their scribbled memo outlived them." 'br)
            (proc 0))
           (//
            (str "It's stuck onto the plaster wall all haphazardly." 'br)
            (str "Since it's from when this refinery was in use, that means this " 'br)
            (str "memo is from decades ago." 'br)
            (proc 0)
            (str "The paper is yellowed and wrinkled from dust and moisture." 'br)
            (str "The contents don't seem to be important enough to be preserved " 'br)
            (str "for decades." 'br)
            (proc 0)
            (nop@)
            (set-reg 194 #t)))))
     (/
      (if (</>
           (//
            (? (= 195 #t))
            (nop@)
            (str "It's a not-so-old filing cabinet." 'br)
            (str "It's locked, so I can't see inside.")
            (proc 0))
           (//
            (str "It's locked, so I can't see inside." 'br)
            (str "I wonder what kind of documents are in there, but since there's ")
            (str "no key, it looks like there's no way to see inside." 'br)
            (proc 0)
            (str "The appearance doesn't seem that old, so there's no doubt it was ")
            (str "installed a few years before this place was abandoned." 'br)
            (proc 0)
            (nop@)
            (set-reg 195 #t)))))
     (/
      (if (</>
           (//
            (? (= 191 #t))
            (nop@)
            (str "That painting looks out of place in a room like an office." 'br)
            (str "Looks like the key isn't hidden anymore.")
            (proc 0))
           (//
            (str "That painting really doesn't fit in this room that looks so much ")
            (str "like an office." 'br)
            (str "I don't really know what's drawn here, though........")
            (proc 0)
            (str "[Thomas] In novels and stuff, there's usually a key hidden " 'br)
            (str "behind a painting like this, you know." 'br)
            (proc 0)
            (str "[Jonathan] A key, you say？" 'br)
            (str "　　　　　　　　What key are you talking about?")
            (proc 0)
            (str "[Thomas] Yeah, doesn't that safe over there smell kinda bad？" 'br)
            (str "　　　　　　Maybe there's a mountain of gold bars inside or something.")
            (proc 0)
            (str "[Jonathan] 『A 'mountain of gold bars' is hard to believe, but " 'br)
            (str "the thing about a safe key sounds pretty likely." 'br)
            (proc 0)
            (str "[Thomas] 探してみなよ。")
            (proc 0)
            (str "I took the painting off the wall and, getting both my hands " 'br)
            (str "covered in dust, felt around the back of the frame." 'br)
            (proc 0)
            (exec-mem 256 "G 4 28 48 24 192")
            (exec-mem 256 "P 6 28 48")
            (str "[Jonathan] There it is.........")
            (proc 0)
            (str "[Thomas] See, didn't I tell you?！" 'br)
            (str "　　　　　　よこしてみろよ、金庫の鍵だぜ、きっと。")
            (proc 0)
            (str "[Jonathan] そう焦るなよ。" 'br)
            (str "　　　　　　　　Even if there was a gold bar, it's not like I'd just hog ")
            (str "it all to myself, right？" 'br)
            (proc 0)
            (str "[Thomas] Yeah, sure！" 'br)
            (str "　　　　　　Whatever,　just　hurry　up　and　open　it.")
            (proc 0)
            (nop@)
            (set-reg 191 #t)
            (exec-mem 256 "P 4 28 48")
            (load-mem "CMD¥KEY.CSR" 24288)
            (exec-mem 13536 1 24288)
            (load-mem "B:CLM¥C_104B.CLM" 27984)
            (nop@)
            (set-reg 997 #f)))))
     (/
      (if (</>
           (//
            (? (= 196 #t))
            (nop@)
            (str "It's not the key for this desk." 'br)
            (str "Besides, there's no reason to go out of your way to hide the " 'br)
            (str "desk drawer key, right?" 'br)
            (str "There's no way anyone would put important stuff in a desk when " 'br)
            (str "there's a safe." 'br)
            (proc 0))
           (//
            (str "I stuck the key into the keyhole of the desk drawer.")
            (proc 0)
            (str "Nope, it doesn't fit." 'br)
            (str "Looks like it's not the key for this desk.")
            (proc 0)
            (nop@)
            (set-reg 196 #t)))))
     (/
      (if (</>
           (//
            (? (= 197 #t))
            (nop@)
            (str "It's not the key for this filing cabinet." 'br)
            (str "If there's anywhere else that's locked...")
            (proc 0))
           (//
            (str "I stuck the key into the filing cabinet.")
            (proc 0)
            (str "Guess it's not the key for this either." 'br)
            (str "I'm curious about what kind of documents are in there, but...")
            (proc 0)
            (nop@)
            (set-reg 197 #t)))))
     (/
      (nop@)
      (set-reg 190 #t)
      (str "I stuck the key I found behind the painting into the safe's " 'br)
      (str "keyhole." 'br)
      (str "With a 'click', the lock opens.")
      (proc 0)
      (str "[Thomas] See, I told you so." 'br)
      (str "　　　　　　Come on, open it already！")
      (proc 0)
      (str "[Jonathan] Hold on, the numbers might not match." 'br)
      (str "　　　　　　　　Someone might've spun them around as a prank, you know？")
      (proc 0)
      (str "[Thomas] There's no sign it's been used at all." 'br)
      (str "　　　　　　Besides, people in this village are seriously careless " 'br)
      (str "anyway." 'br)
      (proc 0)
      (str "[Jonathan] よし、開けてみるぞ‥‥‥‥")
      (proc 0)
      (proc 3)
      (proc 9)
      (image-file "B:GPC¥C_105.GPC")
      (image-mem 0)
      (proc 8)
      (load-mem "CMD¥NORMAL.CSR" 24288)
      (exec-mem 13536 1 24288)
      (load-mem "B:CLM¥C_104C.CLM" 27984)
      (exec-mem 2928 12 16 67 287 7 1)
      (nop@)
      (set-reg 997 #t)
      (proc 1)
      (str "The door of the safe creaked on its hinges and opened easily." 'br)
      (str "The inside is split into two levels, and there doesn't seem to " 'br)
      (str "be any gold bars inside." 'br)
      (proc 0)
      (str "[Jonathan] Looks like it was a letdown." 'br)
      (str "　　　　　　　　紙束はどうやら船にかけていた保険の証書みたいだ。　　　　　　　　今じゃ紙屑に等しい値打ちしかない。")
      (proc 0)
      (str "[Jonathan] 後は‥‥‥‥" 'br)
      (str "　　　　　　　　取引の明細みたいだな。")
      (proc 0)
      (str "[Thomas] Wait, that... That ring-looking thing on the upper " 'br)
      (str "left..." 'br)
      (proc 0))))
   (if (</> (// (? (!= A 0)) (nop@) (proc 3))))))
 (seg*
  (mes-load? 0)
  (if (</>
       (//
        (? (= V 0))
        (nop@)
        (proc 15)
        (menu1 60 100 (</> (/ (str "　　Go outside　　"))))
        (proc 17))))
  (proc 14)
  (if (</>
       (//
        (? (= V 0) (!= S 255))
        (nop@)
        (proc 6)
        (proc 10)
        (mes-jump "MES¥NH_01A.MES"))))))