(mes
 (meta (engine 'ADV) (charset "pc98") (extraop #t))
 (seg (? (= 997 #t) (= 998 #f))
   (image-file "B:GPC¥C_038.GPC")
   (image-mem 0)
   (exec-mem 14048 1 1 12 1 67 17)
   (exec-mem 14048 1 5 41 10 67 17)
   (exec-mem 14048 1 6 37 2 56 10)
   (exec-mem 14048 1 7 22 13 35 17)
   (if (</>
        (//
         (? (= 120 #t))
         (nop@)
         (load-mem "B:CLM¥C_038C.CLM" 27984)
         (if (</>
              (//
               (? (!= M 5))
               (nop@)
               (if (</>
                    (//
                     (? (!= M 0))
                     (nop@)
                     (sound '|| 2)
                     (delay 120)
                     (sound '|| 0))))
               (set-var M 5)
               (branch-reg
                994
                (</>
                 (/ (sound '|| "USO¥NC_15D.USO"))
                 (/ (sound '|| "USO¥NC_15V.USO"))))
               (sound '|| 1))))
         (proc 7)
         (proc 1)
         (str "Not here." 'br)
         (str "Looks like Thomas still hasn't come back from the brothel.")
         (proc 0)
         (str "Well, with that body, I bet he's way more energetic than me... " 'br)
         (str "He's probably planning to stay all night." 'br)
         (proc 0))
        (//
         (? (= 117 #t))
         (nop@)
         (image-file "B:GPC¥C_039.GPC")
         (image-mem 1)
         (if (</>
              (//
               (? (!= M 5))
               (nop@)
               (if (</>
                    (//
                     (? (!= M 0))
                     (nop@)
                     (sound '|| 2)
                     (delay 120)
                     (sound '|| 0))))
               (set-var M 5)
               (branch-reg
                994
                (</>
                 (/ (sound '|| "USO¥NC_15D.USO"))
                 (/ (sound '|| "USO¥NC_15V.USO"))))
               (sound '|| 1))))
         (proc 7)
         (proc 1)
         (str "[Thomas] That was fast." 'br)
         (str "　　　　　　So, how was it? The taste of a widow?")
         (proc 0)
         (str "[Jonathan] You can let your imagination run wild if you want, " 'br)
         (str "but Hudson-san is a proper lady, you know." 'br)
         (proc 0)
         (str "[Thomas] You're still wet behind the ears." 'br)
         (str "　　　　　　Women are all the same, no matter who they are.")
         (proc 0)
         (str "[Jonathan] Do whatever you want.")
         (proc 0)
         (str "[Thomas] Well, that stuff can wait till later." 'br)
         (str "　　　　　　If we don't hurry up, the sun's gonna come up.")
         (proc 0)
         (str "[Jonathan] Where are you planning on taking me？")
         (proc 0)
         (str "[Thomas] That's something to look forward to after we get there." 'br)
         (str "　　　　　　Are you feeling okay？")
         (proc 0)
         (str "[Jonathan] I'm totally fine now.")
         (proc 0)
         (str "[Thomas] That's great." 'br)
         (str "　　　　　　We finally get to have some fun, but the one thing we need ")
         (str "most is totally useless... that's just too much." 'br)
         (proc 0)
         (proc 3)
         (proc 6)
         (mes-jump "MES¥NM_01A.MES"))
        (//
         (image-file "B:GPC¥C_039.GPC")
         (image-mem 1)
         (if (</>
              (//
               (? (!= M 5))
               (nop@)
               (if (</>
                    (//
                     (? (!= M 0))
                     (nop@)
                     (sound '|| 2)
                     (delay 120)
                     (sound '|| 0))))
               (set-var M 5)
               (branch-reg
                994
                (</>
                 (/ (sound '|| "USO¥NC_15D.USO"))
                 (/ (sound '|| "USO¥NC_15V.USO"))))
               (sound '|| 1))))
         (proc 7)
         (proc 1)
         (str "[Thomas] Yo, you alright？" 'br)
         (str "　　　　　　I gotta admit, I was pretty shocked when you collapsed at ")
         (str "the monastery." 'br)
         (proc 0)
         (str "[Jonathan] 君と教授が運んでくれたのかい？" 'br)
         (str "　　　　　　　　I　really　caused　you　a　lot　of　trouble,　sorry.")
         (proc 0)
         (str "[Thomas] Nah, don’t worry about it." 'br)
         (str "　　　　　　More importantly, I'm glad I made it in time. I was just " 'br)
         (str "about to head out." 'br)
         (proc 0)
         (str "[Jonathan] Where are you planning to take me？")
         (proc 0)
         (str "[Thomas] Whoa, whoa, don't get so worked up." 'br)
         (str "　　　　　　For a shitty countryside, it's not so damn bad after all.")
         (proc 0)
         (str "[Jonathan] What the hell do you mean, 'It's not all worthless'？")
         (proc 0)
         (str "[Thomas] Well then, shall we head out？" 'br)
         (str "　　　　　　If you take it too slow, the sun'll come up before you " 'br)
         (str "know it." 'br)
         (proc 0)
         (branch-reg
          115
          (</>
           (/
            (str "[Jonathan] Yeah, I'm a busy guy too." 'br)
            (str "　　　　　　　　If I don't hurry up and get this over with, my body " 'br)
            (str "won't last." 'br)
            (proc 0)
            (str "[Thomas] Well, do you really think it'll go that smoothly？" 'br)
            (str "　　　　　　My gut tells me, you're the type to get hooked pretty " 'br)
            (str "hard." 'br)
            (proc 0)
            (str "[Jonathan] What about？")
            (proc 0)
            (str "[Thomas] See ya, wild thing‥‥‥‥‥" 'br)
            (str "　　　　　　Sometimes, being 'the one getting served...' ain't so bad.")
            (proc 0)
            (str "[Jonathan] I have no idea what you're talking about.")
            (proc 0)
            (str "[Thomas] Well, it's all good." 'br)
            (str "　　　　　　Alright, let's head out.")
            (proc 0)
            (proc 3)
            (proc 6)
            (mes-jump "MES¥NM_01A.MES"))
           (/
            (str "[Jonathan] Wait a sec, I've got an appointment to meet Mrs. " 'br)
            (str "Hudson." 'br)
            (proc 0)
            (str "[Thomas] You and the lady？" 'br)
            (str "　　　　　　Hey,　hey……　You’re　pretty　good,　aren’t　you?")
            (proc 0)
            (str "[Jonathan] That's not it！" 'br)
            (str "　　　　　　　　The professor mentioned it this morning, right? That his ")
            (str "wife was pissed off at me." 'br)
            (proc 0)
            (str "[Thomas] Ah, that, huh......")
            (proc 0)
            (str "[Jonathan] It'll be done soon, so just wait for me.")
            (proc 0)
            (str "[Thomas] No need to rush. If you think about why the lady’s " 'br)
            (str "getting mad, it’s not like there’s zero chance for you, right?" 'br)
            (proc 0)
            (str "[Jonathan] What's your reason, huh？" 'br)
            (str "　　　　　　　　The lady is worried about Cordelia. She thinks it'd be a ")
            (str "huge problem if people started saying her daughter's a slacker." 'br)
            (proc 0)
            (str "[Thomas] Is that really true？" 'br)
            (str "　　　　　　いくら貞淑な未亡人だって、何年も独り身じゃ辛いだろ。")
            (proc 0)
            (str "[Thomas] Then, a young man showed up from London." 'br)
            (str "　　　　　　どうせ長いこと村にいる訳でもなし、後腐れがねえ。")
            (proc 0)
            (str "[Thomas] Wouldn't be strange if you got a bit of a sense of " 'br)
            (str "adventure." 'br)
            (str "　　　　　　Are you the type who gets liked by older women？")
            (proc 0)
            (str "[Jonathan] Cut it out already！" 'br)
            (str "　　　　　　　　The lady's not that kind of person.")
            (proc 0)
            (str "[Thomas] Got it, don't get so worked up." 'br)
            (str "　　　　　　Anyway, just go already, I'll be waiting for you.")
            (proc 0)
            (proc 3)
            (proc 6)
            (mes-jump "B:MES¥NA_04D.MES")))))))
   (proc 3)
   (loop
    (proc 19)
    (branch-var
     A
     (</>
      (/ (seg-call))
      (/
       (if (</>
            (//
             (? (= 337 #t))
             (nop@)
             (str "This room is on the shady backside, so it's weirdly damp and " 'br)
             (str "honestly not all that comfortable." 'br)
             (proc 0)
             (str "Considering the awkward relationship between Thomas and Mrs. " 'br)
             (str "Hudson, maybe she gave Thomas this lousy room on purpose." 'br)
             (proc 0)
             (str "Mrs. Hudson, who's always gentle and doesn't have a trace of " 'br)
             (str "slyness, just doesn't seem like the type to do something like " 'br)
             (str "that, but I honestly can't think of a reason why she would've " 'br)
             (str "gone out of her way to stick Thomas, who'd been " 'br)
             (str "staying here at the Fish Scale Inn even before I decided to, in ")
             (str "such a lousy room." 'br)
             (proc 0))
            (//
             (str "Thomas's room is just as tidy as he claims to like things clean, ")
             (str "everything is neatly organized." 'br)
             (proc 0)
             (str "そればかりか、この部屋にはトマスが滞在しているという事を伝えるような荷物や衣服の類が一切存在しない。")
             (proc 0)
             (str "Is this how his secret society does things?" 'br)
             (str "Even if I try to snoop around the room while Thomas isn't here, ")
             (str "there's no way I'd find anything like this." 'br)
             (proc 0)
             (str "Maybe they keep things light around them so they can disappear " 'br)
             (str "at any time." 'br)
             (proc 0)
             (nop@)
             (set-reg 337 #t)))))
      (/ (nop@))
      (/ (nop@))
      (/ (nop@))
      (/
       (if (</>
            (//
             (? (= 338 #t))
             (nop@)
             (str "I wonder how Thomas found out there's a brothel in this village." 'br)
             (str "酒場と娼婦と葬儀屋はどんな場所にもあると言うが、誰がトマスにその場所を教えたんだ？")
             (proc 0))
            (//
             (str "It's not much different from the Bed in my room." 'br)
             (str "It might be a little too small for tall Thomas.")
             (proc 0)
             (str "The sheet is just as Mrs. Hudson made the bed, neatly arranged " 'br)
             (str "without a single wrinkle." 'br)
             (proc 0)
             (str "He's probably planning to spend the night in the prostitute's " 'br)
             (str "room again until morning." 'br)
             (str "No matter how nicely Mrs. Hudson makes the bed, it doesn't mean ")
             (str "a thing." 'br)
             (proc 0)
             (nop@)
             (set-reg 338 #t)))))
      (/
       (if (</>
            (//
             (? (= 339 #t))
             (nop@)
             (str "Thomas sure puts up with a room as gloomy as this one.")
             (proc 0))
            (//
             (str "It's night now so I can't tell, but since it's at the back of " 'br)
             (str "the Fish Scale Inn that's in the shade even during the day, " 'br)
             (str "sunlight pretty much never comes in through this window." 'br)
             (proc 0)
             (str "Doesn't seem like it would make much difference even if the " 'br)
             (str "curtain was open." 'br)
             (str "Thomas sure puts up with a lot, being stuck in a room like this.")
             (proc 0)
             (nop@)
             (set-reg 339 #t)))))
      (/
       (if (</>
            (//
             (? (= 340 #t))
             (nop@)
             (str "It's an old, worthless table, just like the one in my room." 'br)
             (str "It might've been here as equipment ever since the Fish Scale Inn ")
             (str "first opened." 'br)
             (proc 0))
            (//
             (str "私の部屋にある物と大した変わりはない。" 'br)
             (str "It's too high to eat at, and it seems too tall to use as a " 'br)
             (str "writing desk." 'br)
             (proc 0)
             (str "Well, Thomas isn't the type to write things down eagerly, and he ")
             (str "probably wouldn't want to eat alone either." 'br)
             (proc 0)
             (str "Even though there's a Table, you probably hardly use it at all." 'br)
             (str "Something like this is just right for that guy.")
             (proc 0)
             (nop@)
             (set-reg 340 #t)))))))
    (if (</> (// (? (!= A 0)) (nop@) (proc 3))))))
 (seg*
  (mes-load? 0)
  (if (</>
       (//
        (? (= V 0))
        (nop@)
        (proc 15)
        (menu1
         60
         100
         (</> (/ (text "　") (str " ") (str "My own room") (str " ") (text "　"))))
        (proc 17))))
  (proc 14)
  (if (</>
       (//
        (? (= V 0) (!= S 255))
        (nop@)
        (proc 6)
        (branch-var S (</> (/ (mes-jump "B:MES¥NA_05E.MES")))))))))